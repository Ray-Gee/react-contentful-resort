(this["webpackJsonpreact-contentful-resort"]=this["webpackJsonpreact-contentful-resort"]||[]).push([[0],{111:function(e,t){},142:function(e,t,c){"use strict";c.r(t);var s=c(1),n=c.n(s),r=c(66),i=c.n(r),a=c(3),o=(c(81),c(2)),l=c(0);function j(e){var t=e.children,c=e.hero;return Object(l.jsx)("header",{className:c,children:t})}function m(e){var t=e.children,c=e.title,s=e.subtitle;return Object(l.jsxs)("div",{className:"banner",children:[Object(l.jsx)("h1",{children:c}),Object(l.jsx)("div",{}),Object(l.jsx)("p",{children:s}),t]})}j.defaultProps={hero:"defaultHero"};var u=c(11),b=c(12),d=c(13),h=c(14),p=c(18);function O(e){var t=e.title;return Object(l.jsxs)("div",{className:"section-title",children:[Object(l.jsx)("h4",{children:t}),Object(l.jsx)("div",{})]})}var x=function(e){Object(d.a)(c,e);var t=Object(h.a)(c);function c(){var e;Object(u.a)(this,c);for(var s=arguments.length,n=new Array(s),r=0;r<s;r++)n[r]=arguments[r];return(e=t.call.apply(t,[this].concat(n))).state={services:[{icon:Object(l.jsx)(p.c,{}),title:"free cocktails",info:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Veritatis nesciunt nemo debitis nulla repudiandae repellat, tempora, ea obcaecati incidunt possimus molestiae ipsum molestias fugiat quis? Magni praesentium possimus quos iusto."},{icon:Object(l.jsx)(p.d,{}),title:"Endless",info:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Veritatis nesciunt nemo debitis nulla repudiandae repellat, tempora, ea obcaecati incidunt possimus molestiae ipsum molestias fugiat quis? Magni praesentium possimus quos iusto."},{icon:Object(l.jsx)(p.e,{}),title:"free shuttle",info:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Veritatis nesciunt nemo debitis nulla repudiandae repellat, tempora, ea obcaecati incidunt possimus molestiae ipsum molestias fugiat quis? Magni praesentium possimus quos iusto."},{icon:Object(l.jsx)(p.b,{}),title:"Strongest",info:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Veritatis nesciunt nemo debitis nulla repudiandae repellat, tempora, ea obcaecati incidunt possimus molestiae ipsum molestias fugiat quis? Magni praesentium possimus quos iusto."}]},e}return Object(b.a)(c,[{key:"render",value:function(){return Object(l.jsxs)("section",{className:"services",children:[Object(l.jsx)(O,{title:"services"}),Object(l.jsx)("div",{className:"services-center",children:this.state.services.map((function(e,t){return Object(l.jsxs)("article",{className:"service",children:[Object(l.jsx)("span",{children:e.icon}),Object(l.jsx)("h6",{children:e.title}),Object(l.jsx)("p",{children:e.info})]},t)}))})]})}}]),c}(s.Component),f=c(19),g=c(26),v=c(40),y=c(16),N=c(67),k=c(68),C=Object(k.createClient)({space:"rvl2xykub0zg",accessToken:"92OcQuyopeu000SRfPZ4R87U7GJsx3MjeaRjsEVWPgQ"}),z=n.a.createContext(),F=function(e){Object(d.a)(c,e);var t=Object(h.a)(c);function c(){var e;Object(u.a)(this,c);for(var s=arguments.length,n=new Array(s),r=0;r<s;r++)n[r]=arguments[r];return(e=t.call.apply(t,[this].concat(n))).state={rooms:[],sortedRooms:[],featuredRooms:[],loading:!0,type:"all",capacity:1,price:0,minPrice:0,maxPrice:0,minSize:0,mazSize:0,breakfast:!1,pets:!1},e.getData=Object(N.a)(Object(v.a)().mark((function t(){var c,s,n,r,i;return Object(v.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,C.getEntries({content_type:"beachResortRoom",order:"fields.price"});case 3:c=t.sent,s=e.formatData(c.items),n=s.filter((function(e){return!0===e.featured})),r=Math.max.apply(Math,Object(y.a)(s.map((function(e){return e.price})))),i=Math.max.apply(Math,Object(y.a)(s.map((function(e){return e.size})))),e.setState({rooms:s,sortedRooms:s,featuredRooms:n,loading:!1,price:r,maxPrice:r,maxSize:i}),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),console.log(t.t0);case 14:case"end":return t.stop()}}),t,null,[[0,11]])}))),e.getRoom=function(t){return Object(y.a)(e.state.rooms).find((function(e){return e.slug===t}))},e.handleChange=function(t){var c=t.target,s="checkbox"===c.type?c.checked:c.value,n=t.target.name;e.setState(Object(g.a)({},n,s),e.filterRooms)},e.filterRooms=function(){var t=e.state,c=t.rooms,s=t.type,n=t.capacity,r=t.price,i=t.minSize,a=t.maxSize,o=t.breakfast,l=t.pets,j=Object(y.a)(c);n=parseInt(n),r=parseInt(r),"all"!==s&&(j=j.filter((function(e){return e.type===s}))),1!==n&&(j=j.filter((function(e){return e.capacity>=n}))),j=(j=j.filter((function(e){return e.price<=r}))).filter((function(e){return e.size>=i&&e.size<=a})),o&&(j=j.filter((function(e){return!0===e.breakfast}))),l&&(j=j.filter((function(e){return!0===e.pets}))),e.setState({sortedRooms:j})},e}return Object(b.a)(c,[{key:"componentDidMount",value:function(){this.getData()}},{key:"formatData",value:function(e){return e.map((function(e){var t=e.sys.id,c=e.fields.images.map((function(e){return e.fields.file.url}));return Object(f.a)(Object(f.a)({},e.fields),{},{images:c,id:t})}))}},{key:"render",value:function(){return Object(l.jsx)(z.Provider,{value:Object(f.a)(Object(f.a)({},this.state),{},{getRoom:this.getRoom,handleChange:this.handleChange}),children:this.props.children})}}]),c}(s.Component),R=z.Consumer;var S=c.p+"static/media/loading-arrow.dd29210f.gif";function w(){return Object(l.jsxs)("div",{className:"loading",children:[Object(l.jsx)("h4",{children:"rooms loading..."}),Object(l.jsx)("img",{src:S,alt:""})]})}var P=c.p+"static/media/room-1.05b90599.jpeg";function M(e){var t=e.room,c=t.name,s=t.slug,n=t.images,r=t.price;return Object(l.jsxs)("article",{className:"room",children:[Object(l.jsxs)("div",{className:"img-container",children:[Object(l.jsx)("img",{src:n[0]||P,alt:"single-room"}),Object(l.jsxs)("div",{className:"price-top",children:[Object(l.jsxs)("h6",{children:["$",r]}),Object(l.jsx)("p",{children:"per night"})]}),Object(l.jsx)(a.b,{to:"/rooms/".concat(s),className:"btn-primary room-link",children:"Features"})]}),Object(l.jsx)("p",{className:"room-info",children:c})]})}var q=function(e){Object(d.a)(c,e);var t=Object(h.a)(c);function c(){return Object(u.a)(this,c),t.apply(this,arguments)}return Object(b.a)(c,[{key:"render",value:function(){var e=this.context,t=e.loading,c=e.featuredRooms;return c=c.map((function(e){return Object(l.jsx)(M,{room:e},e.id)})),Object(l.jsxs)("section",{className:"featured-rooms",children:[Object(l.jsx)(O,{title:"featured rooms"}),Object(l.jsx)("div",{className:"featured-rooms-center",children:t?Object(l.jsx)(w,{}):c})]})}}]),c}(s.Component);function T(){return Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)(j,{hero:"defaultHero",children:Object(l.jsx)(m,{title:"luxurious rooms",subtitle:"deluxe rooms starting at $299",children:Object(l.jsx)(a.b,{to:"/rooms",className:"btn-primary",children:"our rooms"})})}),Object(l.jsx)(x,{}),Object(l.jsx)(q,{})]})}q.contextType=z;var D=function(e,t){return Object(y.a)(new Set(e.map((function(e){return e[t]}))))};function L(e){var t=e.rooms,c=Object(s.useContext)(z),n=c.handleChange,r=c.type,i=c.capacity,a=c.price,o=c.minPrice,j=c.maxPrice,m=c.minSize,u=c.maxSize,b=c.breakfast,d=c.pets,h=D(t,"type");h=(h=["all"].concat(Object(y.a)(h))).map((function(e,t){return Object(l.jsx)("option",{value:e,children:e},t)}));var p=D(t,"capacity");return p=p.map((function(e,t){return Object(l.jsx)("option",{value:e,children:e},t)})),Object(l.jsxs)("section",{className:"filter-container",children:[Object(l.jsx)(O,{title:"search rooms"}),Object(l.jsxs)("form",{className:"filter-form",children:[Object(l.jsxs)("div",{className:"form-group",children:[Object(l.jsx)("label",{htmlFor:"type",children:"room type"}),Object(l.jsx)("select",{name:"type",id:"type",value:r,className:"form-control",onChange:n,children:h})]}),Object(l.jsxs)("div",{className:"form-group",children:[Object(l.jsx)("label",{htmlFor:"capacity",children:"Guests"}),Object(l.jsx)("select",{name:"capacity",id:"capacity",value:i,className:"form-control",onChange:n,children:p})]}),Object(l.jsxs)("div",{className:"form-group",children:[Object(l.jsxs)("label",{htmlFor:"price",children:["room priice $",a]}),Object(l.jsx)("input",{type:"range",name:"price",min:o,max:j,id:"price",value:a,onChange:n,className:"form-control"})]}),Object(l.jsxs)("div",{className:"form-group",children:[Object(l.jsx)("label",{htmlFor:"size",children:"room size"}),Object(l.jsxs)("div",{className:"size-inputs",children:[Object(l.jsx)("input",{type:"number",name:"minSize",id:"size",value:m,onChange:n,className:"size-input"}),Object(l.jsx)("input",{type:"number",name:"maxSize",id:"size",value:u,onChange:n,className:"size-input"})]})]}),Object(l.jsx)("div",{className:"form-group",children:Object(l.jsxs)("div",{className:"single-extra",children:[Object(l.jsx)("input",{type:"checkbox",name:"breakfast",checked:b,onChange:n,id:"breakfast"}),Object(l.jsx)("label",{htmlFor:"breakfast",children:"breakfast"})]})}),Object(l.jsx)("div",{className:"form-group",children:Object(l.jsxs)("div",{className:"single-extra",children:[Object(l.jsx)("input",{type:"checkbox",name:"pets",checked:d,onChange:n,id:"pets"}),Object(l.jsx)("label",{htmlFor:"pets",children:"pets"})]})})]})]})}function B(e){var t=e.rooms;return 0===t.length?Object(l.jsx)("div",{className:"empty-search",children:Object(l.jsx)("h3",{children:"unfortunately no rooms matched your search parameters"})}):Object(l.jsx)("section",{className:"roomslist",children:Object(l.jsx)("div",{className:"roomslist-center",children:t.map((function(e){return Object(l.jsx)(M,{room:e},e.id)}))})})}var H,V,E=(H=function(e){var t=e.context,c=t.loading,s=t.sortedRooms,n=t.rooms;return c?Object(l.jsx)(w,{}):Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)(L,{rooms:n}),Object(l.jsx)(B,{rooms:s})]})},function(e){return Object(l.jsx)(R,{children:function(t){return Object(l.jsx)(H,Object(f.a)(Object(f.a)({},e),{},{context:t}))}})}),I=function(){return Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)(j,{hero:"roomsHero",children:Object(l.jsx)(m,{title:"our rooms",children:Object(l.jsx)(a.b,{to:"/",className:"btn-primary",children:"return home"})})}),Object(l.jsx)(E,{})]})},$=c(76),A=c(71),J=c(72).a.header(V||(V=Object(A.a)(["\n  min-height: 60vh;\n  background: url(",")\n    center/cover no-repeat;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n"])),(function(e){return e.img?e.img:P})),Q=function(e){Object(d.a)(c,e);var t=Object(h.a)(c);function c(e){var s;return Object(u.a)(this,c),(s=t.call(this,e)).state={slug:s.props.match.params.slug,defaultBcg:P},s}return Object(b.a)(c,[{key:"render",value:function(){var e=(0,this.context.getRoom)(this.state.slug);if(!e)return Object(l.jsxs)("div",{className:"error",children:[Object(l.jsx)("h3",{children:"no such room could be found..."}),Object(l.jsx)(a.b,{to:"/rooms",className:"btn-primary",children:"back to rooms"})]});var t=e.name,c=e.description,s=e.capacity,n=e.size,r=e.price,i=e.extras,o=e.breakfast,j=e.pets,u=e.images,b=Object($.a)(u),d=b[0],h=b.slice(1);return Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)(J,{img:d||this.state.defaultBcg,children:Object(l.jsx)(m,{title:"".concat(t," room"),children:Object(l.jsx)(a.b,{to:"/rooms",className:"btn-primary",children:"back to rooms"})})}),Object(l.jsxs)("section",{className:"single-room",children:[Object(l.jsx)("div",{className:"single-room-images",children:h.map((function(e,c){return Object(l.jsx)("img",{src:e,alt:t},c)}))}),Object(l.jsxs)("div",{className:"single-room-info",children:[Object(l.jsxs)("article",{className:"desc",children:[Object(l.jsx)("h3",{children:"details"}),Object(l.jsx)("p",{children:c})]}),Object(l.jsxs)("article",{className:"info",children:[Object(l.jsx)("h3",{children:"info"}),Object(l.jsxs)("h6",{children:["price: $",r]}),Object(l.jsxs)("h6",{children:["size: ",n," SQFT"]}),Object(l.jsxs)("h6",{children:["max capacity:","".concat(s,s>1?" people":" prtson")]}),Object(l.jsx)("h6",{children:j?"prts allowed":"no pets allowed"}),Object(l.jsx)("h6",{children:o&&"free breakfast included"})]})]})]}),Object(l.jsxs)("section",{className:"room-extras",children:[Object(l.jsx)("h6",{children:"extras"}),Object(l.jsx)("ul",{className:"extras",children:i?i.map((function(e,t){return Object(l.jsxs)("li",{children:["- ",e]},t)})):"Nothing"})]})]})}}]),c}(s.Component);function G(){return Object(l.jsx)(j,{children:Object(l.jsx)(m,{title:"404",subtitle:"page not found",children:Object(l.jsx)(a.b,{to:"/",className:"btn-primary",children:"return home"})})})}Q.contextType=z;var U=c.p+"static/media/logo.87947b58.svg",W=function(e){Object(d.a)(c,e);var t=Object(h.a)(c);function c(){var e;Object(u.a)(this,c);for(var s=arguments.length,n=new Array(s),r=0;r<s;r++)n[r]=arguments[r];return(e=t.call.apply(t,[this].concat(n))).state={isOpen:!1},e.handleToggle=function(){e.setState({isOpen:!e.state.isOpen})},e}return Object(b.a)(c,[{key:"render",value:function(){return Object(l.jsx)("nav",{className:"navbar",children:Object(l.jsxs)("div",{className:"nav-center",children:[Object(l.jsxs)("div",{className:"nav-header",children:[Object(l.jsx)(a.b,{to:"/",children:Object(l.jsx)("img",{src:U,alt:"Beach Resort"})}),Object(l.jsx)("button",{type:"button",className:"nav-btn",children:Object(l.jsx)(p.a,{className:"nav-icon",onClick:this.handleToggle})})]}),Object(l.jsxs)("ul",{className:this.state.isOpen?"nav-links show-nav":"nav-links",children:[Object(l.jsx)("li",{children:Object(l.jsx)(a.b,{to:"/",children:"Home"})}),Object(l.jsx)("li",{children:Object(l.jsx)(a.b,{to:"/rooms",children:"Rooms"})}),Object(l.jsx)("li",{children:Object(l.jsx)(a.b,{to:"/form",children:"\u30d5\u30a9\u30fc\u30e0\u3060"})})]})]})})}}]),c}(s.Component);var Z=function(e){return e.context,Object(l.jsx)(l.Fragment,{children:Object(l.jsxs)("form",{name:"contact",method:"POST",netlify:!0,children:[Object(l.jsxs)("div",{class:"form-item",children:[Object(l.jsx)("span",{class:"form-item-name",children:"\u304a\u540d\u524d"}),Object(l.jsx)("div",{class:"form-item-body",children:Object(l.jsx)("div",{class:"form-item-text",children:Object(l.jsx)("input",{type:"text",name:"name",value:"\u306a\u307e\u3048",class:"m-form-text",required:!0})})})]}),Object(l.jsx)("div",{class:"m-btn-wrap",children:Object(l.jsx)("input",{type:"submit",name:"",value:"\u9001\u4fe1",class:"m-btn"})})]})})},_=function(){return Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)(j,{hero:"roomsHero",children:Object(l.jsx)(m,{title:"Form ",children:Object(l.jsx)(a.b,{to:"/",className:"btn-primary",children:"\u5fdc\u52df\u3075\u3049\u30fc\u3080"})})}),Object(l.jsx)(Z,{})]})};var K=function(){return Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)(W,{}),Object(l.jsxs)(o.c,{children:[Object(l.jsx)(o.a,{exact:!0,path:"/",component:T}),Object(l.jsx)(o.a,{exact:!0,path:"/rooms",component:I}),Object(l.jsx)(o.a,{exact:!0,path:"/form",component:_}),Object(l.jsx)(o.a,{exact:!0,path:"/rooms/:slug",component:Q}),Object(l.jsx)(o.a,{component:G})]})]})},X=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,143)).then((function(t){var c=t.getCLS,s=t.getFID,n=t.getFCP,r=t.getLCP,i=t.getTTFB;c(e),s(e),n(e),r(e),i(e)}))};i.a.render(Object(l.jsx)(F,{children:Object(l.jsx)(a.a,{children:Object(l.jsx)(K,{})})}),document.getElementById("root")),X()},81:function(e,t,c){}},[[142,1,2]]]);
//# sourceMappingURL=main.0ef990c2.chunk.js.map